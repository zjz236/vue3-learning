<!DOCTYPE html>
<html lang="en-US">
  <head>
    <title>Vue2.x和Vue3.x响应式对比 | Vue3学习日记</title><meta name="description" content=""><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="generator" content="VuePress 2.0.0-beta.22">
    <link rel="modulepreload" href="/vue3-learning/assets/app.2e904f8f.js"><link rel="modulepreload" href="/vue3-learning/assets/index.html.bb37ae2a.js"><link rel="modulepreload" href="/vue3-learning/assets/index.html.65b96185.js">
    <link rel="stylesheet" href="/vue3-learning/assets/style.f7145dee.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><header class="navbar"><div class="toggle-sidebar-button"><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><span><a href="/vue3-learning/" class=""><!----><span class="site-name">Vue3学习日记</span></a></span><div class="navbar-links-wrapper" style=""><!--[--><!--]--><!----><!--[--><!--]--><button class="toggle-dark-button"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><div class="sidebar-mask"></div><aside class="sidebar"><!----><!--[--><!--]--><ul class="sidebar-links"><!--[--><!--[--><a href="/vue3-learning/" class="nav-link sidebar-heading sidebar-item" aria-label="The process: Making Vue 3"><!--[--><!--]--> The process: Making Vue 3 <!--[--><!--]--></a><!----><!--]--><!--[--><a href="/vue3-learning/difference" class="nav-link sidebar-heading sidebar-item" aria-label="Vue3.x和Vue2.x的区别"><!--[--><!--]--> Vue3.x和Vue2.x的区别 <!--[--><!--]--></a><!----><!--]--><!--[--><a href="/vue3-learning/compositionAPI" class="nav-link sidebar-heading sidebar-item" aria-label="Composition API"><!--[--><!--]--> Composition API <!--[--><!--]--></a><!----><!--]--><!--[--><a aria-current="page" href="/vue3-learning/responsive" class="router-link-active router-link-exact-active nav-link router-link-active sidebar-heading sidebar-item" aria-label="Vue2.x和Vue3.x响应式对比"><!--[--><!--]--> Vue2.x和Vue3.x响应式对比 <!--[--><!--]--></a><!----><!--]--><!--[--><a href="/vue3-learning/teleport" class="nav-link sidebar-heading sidebar-item" aria-label="Teleport"><!--[--><!--]--> Teleport <!--[--><!--]--></a><!----><!--]--><!--[--><a href="/vue3-learning/other" class="nav-link sidebar-heading sidebar-item" aria-label="其他区别"><!--[--><!--]--> 其他区别 <!--[--><!--]--></a><!----><!--]--><!--]--></ul><!--[--><!--]--></aside><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="vue2-x和vue3-x响应式对比" tabindex="-1"><a class="header-anchor" href="#vue2-x和vue3-x响应式对比" aria-hidden="true">#</a> Vue2.x和Vue3.x响应式对比</h1><h2 id="vue2-x" tabindex="-1"><a class="header-anchor" href="#vue2-x" aria-hidden="true">#</a> Vue2.x</h2><p>Vue2.x使用的是<code>Object.defineProperty</code>：</p><ul><li><code>Object.defineProperty</code>只能劫持对象的属性，所以新增属性时，需要重新遍历对象的每个属性。</li><li><code>Object.defineProperty</code>对新增属性需要手动进行<code>Observe</code>，对其新增属性再使用<code>Object.defineProperty</code>进行劫持。也正是因为这个原因，使用Vue给data中的数组或对象新增属性时，需要使用vm.$set才能保证新增的属性也是响应式的。</li></ul><h2 id="vue3-x" tabindex="-1"><a class="header-anchor" href="#vue3-x" aria-hidden="true">#</a> Vue3.x</h2><p>Vue3.x使用的是<code>Proxy</code>和<code>Reflect</code>，直接代理整个对象。</p><ul><li><code>Proxy</code>支持13种拦戳操作，这是defneProperty所不具有的新标准。</li><li><code>Proxy</code>作为新标准，长远来看，JS引擎会继续优化Proxy，但<code>getter</code>和<code>setter</code>基本不会再有针对性优化。<code>Proxy</code>兼容性差目前并没有一个完整支持Prox所有拦戳方法的 <code>Polyfill</code>方案。</li></ul><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><span class="meta-item-info">7/23/2021, 6:37:09 PM</span></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: Zjz1236@">joe.zhu</span><!----><!--]--><!--]--></span></div></footer><!----><!--[--><!--]--></main></div><!----><!--]--></div>
    <script type="module" src="/vue3-learning/assets/app.2e904f8f.js" defer></script>
  </body>
</html>
