import{r as n,o as s,c as a,a as t,F as e,d as c}from"./app.2e904f8f.js";const o={},p=t("h1",{id:"composition-api",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#composition-api","aria-hidden":"true"},"#"),c(" Composition API")],-1),l=t("p",null,[t("img",{src:"/vue3-learning/assets/compositionAPI.80a043bd.png",alt:"compositionAPI"})],-1),u=t("h2",{id:"setup",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#setup","aria-hidden":"true"},"#"),c(" setup")],-1),i=t("p",null,[c("setup是Vue3.x新增的一个内容，所有"),t("code",null,"Composition API"),c("的内容都要写在里面。")],-1),k=t("p",null,[c("setup是一个组件的入口，它运行在组件被实例化后时候，props属性被定义之后，实际上等价于Vue2.x版本的"),t("code",null,"beforeCreate"),c("和"),t("code",null,"created"),c("这两个生命周期。")],-1),r=t("p",null,[t("strong",null,"setup函数的注意点"),c("：")],-1),b=t("ul",null,[t("li",null,"由于在执行 setup函数的时候，还没有执行 Created 生命周期方法，所以在 setup 函数中，无法使用 data 和 methods 的变量和方法"),t("li",null,"由于我们不能在 setup函数中使用 data 和 methods，所以 Vue 为了避免我们错误的使用，直接将 setup函数中的this修改成了 undefined"),t("li",null,"setup函数只能是同步的不能是异步的")],-1),m=t("p",null,[t("strong",null,"setup 参数")],-1),g=t("p",null,[c("使用"),t("code",null,"setup"),c("时，它接受两个参数：")],-1),f=t("ol",null,[t("li",null,"props: 组件传入的属性"),t("li",null,"context")],-1),d=t("p",null,[c("setup 中接受的"),t("code",null,"props"),c("是响应式的， 当传入新的 props 时，会及时被更新。由于是响应式的， 所以"),t("strong",null,"不可以使用 ES6 解构"),c("，解构会消除它的响应式。")],-1),v=t("h2",{id:"reactive、ref-与-torefs",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#reactive、ref-与-torefs","aria-hidden":"true"},"#"),c(" reactive、ref 与 toRefs")],-1),w=t("p",null,"Vue2.x是将数据定义在data中，而Vue3.x用reactive和ref定义数据。",-1),h=t("h3",{id:"reactive和ref的区别",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#reactive和ref的区别","aria-hidden":"true"},"#"),c(" reactive和ref的区别")],-1),R=t("p",null,"reactive用于处理对象的数据绑定，但是不能代理基本类型的数据；",-1),y=t("p",null,"而ref既可以代理基本类型的数据，也可以代理对象的数据。",-1),C=t("p",null,[t("strong",null,"demo")],-1),x=t("div",{class:"language-vue ext-vue line-numbers-mode"},[t("pre",{class:"language-vue"},[t("code",null,[t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),c("template")]),t("span",{class:"token punctuation"},">")]),c("\n  "),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),c("div")]),t("span",{class:"token punctuation"},">")]),c("\n    "),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),c("p")]),t("span",{class:"token punctuation"},">")]),c("count: {{count}}"),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),c("p")]),t("span",{class:"token punctuation"},">")]),c("\n    "),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),c("p")]),t("span",{class:"token punctuation"},">")]),c("stateRef-a: {{stateRef.a}}"),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),c("p")]),t("span",{class:"token punctuation"},">")]),c("\n    "),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),c("p")]),t("span",{class:"token punctuation"},">")]),c("stateRef-b: {{stateRef.b}}"),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),c("p")]),t("span",{class:"token punctuation"},">")]),c("\n    "),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),c("p")]),t("span",{class:"token punctuation"},">")]),c("stateReactive-a: {{stateReactive.a}}"),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),c("p")]),t("span",{class:"token punctuation"},">")]),c("\n    "),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),c("p")]),t("span",{class:"token punctuation"},">")]),c("stateReactive-b: {{stateReactive.b}}"),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),c("p")]),t("span",{class:"token punctuation"},">")]),c("\n  "),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),c("div")]),t("span",{class:"token punctuation"},">")]),c("\n"),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),c("template")]),t("span",{class:"token punctuation"},">")]),c("\n\n"),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),c("script")]),t("span",{class:"token punctuation"},">")]),t("span",{class:"token script"},[t("span",{class:"token language-javascript"},[c("\n"),t("span",{class:"token keyword"},"import"),c(),t("span",{class:"token punctuation"},"{"),c(" defineComponent"),t("span",{class:"token punctuation"},","),c(" ref"),t("span",{class:"token punctuation"},","),c(" reactive"),t("span",{class:"token punctuation"},","),c(" onUnmounted "),t("span",{class:"token punctuation"},"}"),c(),t("span",{class:"token keyword"},"from"),c(),t("span",{class:"token string"},"'vue'"),c("\n"),t("span",{class:"token keyword"},"export"),c(),t("span",{class:"token keyword"},"default"),c(),t("span",{class:"token function"},"defineComponent"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},"{"),c("\n  "),t("span",{class:"token function"},"setup"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},")"),c(),t("span",{class:"token punctuation"},"{"),c("\n    "),t("span",{class:"token keyword"},"const"),c(" count "),t("span",{class:"token operator"},"="),c(),t("span",{class:"token function"},"ref"),t("span",{class:"token punctuation"},"("),t("span",{class:"token number"},"0"),t("span",{class:"token punctuation"},")"),c("\n    "),t("span",{class:"token keyword"},"const"),c(" stateRef "),t("span",{class:"token operator"},"="),c(),t("span",{class:"token function"},"ref"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},"{"),c(" a"),t("span",{class:"token operator"},":"),c(),t("span",{class:"token number"},"0"),t("span",{class:"token punctuation"},","),c(" b"),t("span",{class:"token operator"},":"),c(),t("span",{class:"token number"},"0"),c(),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),c("\n    "),t("span",{class:"token keyword"},"const"),c(" stateReactive "),t("span",{class:"token operator"},"="),c(),t("span",{class:"token function"},"reactive"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},"{"),c(" a"),t("span",{class:"token operator"},":"),c(),t("span",{class:"token number"},"0"),t("span",{class:"token punctuation"},","),c(" b"),t("span",{class:"token operator"},":"),c(),t("span",{class:"token number"},"0"),c(),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),c("\n    "),t("span",{class:"token keyword"},"const"),c(" time "),t("span",{class:"token operator"},"="),c(),t("span",{class:"token function"},"setInterval"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},")"),c(),t("span",{class:"token operator"},"=>"),c(),t("span",{class:"token punctuation"},"{"),c("\n      count"),t("span",{class:"token punctuation"},"."),c("value "),t("span",{class:"token operator"},"++"),t("span",{class:"token punctuation"},";"),c("\n      stateRef"),t("span",{class:"token punctuation"},"."),c("value"),t("span",{class:"token punctuation"},"."),c("a "),t("span",{class:"token operator"},"+="),c(),t("span",{class:"token number"},"2"),t("span",{class:"token punctuation"},";"),c("\n      stateRef"),t("span",{class:"token punctuation"},"."),c("value"),t("span",{class:"token punctuation"},"."),c("b "),t("span",{class:"token operator"},"+="),c(),t("span",{class:"token number"},"3"),t("span",{class:"token punctuation"},";"),c("\n      stateReactive"),t("span",{class:"token punctuation"},"."),c("a "),t("span",{class:"token operator"},"+="),c(),t("span",{class:"token number"},"2"),t("span",{class:"token punctuation"},";"),c("\n      stateReactive"),t("span",{class:"token punctuation"},"."),c("b "),t("span",{class:"token operator"},"+="),c(),t("span",{class:"token number"},"3"),t("span",{class:"token punctuation"},";"),c("\n    "),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),c(),t("span",{class:"token number"},"1000"),t("span",{class:"token punctuation"},")"),c("\n    "),t("span",{class:"token function"},"onUnmounted"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},")"),c(),t("span",{class:"token operator"},"=>"),c(),t("span",{class:"token punctuation"},"{"),c("\n      "),t("span",{class:"token function"},"clearInterval"),t("span",{class:"token punctuation"},"("),c("time"),t("span",{class:"token punctuation"},")"),c("\n    "),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),c("\n    "),t("span",{class:"token keyword"},"return"),c(),t("span",{class:"token punctuation"},"{"),c("\n      count"),t("span",{class:"token punctuation"},","),c("\n      stateRef"),t("span",{class:"token punctuation"},","),c("\n      stateReactive\n    "),t("span",{class:"token punctuation"},"}"),c("\n  "),t("span",{class:"token punctuation"},"}"),c("\n"),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),c("\n")])]),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),c("script")]),t("span",{class:"token punctuation"},">")]),c("\n")])]),t("div",{class:"line-numbers"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br"),t("span",{class:"line-number"},"3"),t("br"),t("span",{class:"line-number"},"4"),t("br"),t("span",{class:"line-number"},"5"),t("br"),t("span",{class:"line-number"},"6"),t("br"),t("span",{class:"line-number"},"7"),t("br"),t("span",{class:"line-number"},"8"),t("br"),t("span",{class:"line-number"},"9"),t("br"),t("span",{class:"line-number"},"10"),t("br"),t("span",{class:"line-number"},"11"),t("br"),t("span",{class:"line-number"},"12"),t("br"),t("span",{class:"line-number"},"13"),t("br"),t("span",{class:"line-number"},"14"),t("br"),t("span",{class:"line-number"},"15"),t("br"),t("span",{class:"line-number"},"16"),t("br"),t("span",{class:"line-number"},"17"),t("br"),t("span",{class:"line-number"},"18"),t("br"),t("span",{class:"line-number"},"19"),t("br"),t("span",{class:"line-number"},"20"),t("br"),t("span",{class:"line-number"},"21"),t("br"),t("span",{class:"line-number"},"22"),t("br"),t("span",{class:"line-number"},"23"),t("br"),t("span",{class:"line-number"},"24"),t("br"),t("span",{class:"line-number"},"25"),t("br"),t("span",{class:"line-number"},"26"),t("br"),t("span",{class:"line-number"},"27"),t("br"),t("span",{class:"line-number"},"28"),t("br"),t("span",{class:"line-number"},"29"),t("br"),t("span",{class:"line-number"},"30"),t("br"),t("span",{class:"line-number"},"31"),t("br"),t("span",{class:"line-number"},"32"),t("br"),t("span",{class:"line-number"},"33"),t("br"),t("span",{class:"line-number"},"34"),t("br"),t("span",{class:"line-number"},"35"),t("br")])],-1),V=t("h3",{id:"torefs",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#torefs","aria-hidden":"true"},"#"),c(" toRefs")],-1),q=t("p",null,[c("上面说了"),t("code",null,"props"),c("是响应式的，所以不可以使用"),t("strong",null,"解构"),c("。同理，如上面的代码的stateReactive和stateRef也不能使用"),t("strong",null,"解构"),c("。那么有什么方式可以使用解构后的数据呢，那就是"),t("code",null,"toRefs"),c("，toRefs可以将一个reactive对象转化成属性全部为ref对象的普通对象。")],-1),S=t("p",null,[t("strong",null,"没有toRefs demo")],-1),I=t("div",{class:"language-vue ext-vue line-numbers-mode"},[t("pre",{class:"language-vue"},[t("code",null,[t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),c("template")]),t("span",{class:"token punctuation"},">")]),c("\n  "),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),c("div")]),t("span",{class:"token punctuation"},">")]),c("\n    "),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),c("p")]),t("span",{class:"token punctuation"},">")]),c("count: {{count}}"),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),c("p")]),t("span",{class:"token punctuation"},">")]),c("\n    "),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),c("p")]),t("span",{class:"token punctuation"},">")]),c("aRef: {{aRef}}"),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),c("p")]),t("span",{class:"token punctuation"},">")]),c("\n    "),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),c("p")]),t("span",{class:"token punctuation"},">")]),c("bRef: {{bRef}}"),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),c("p")]),t("span",{class:"token punctuation"},">")]),c("\n    "),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),c("p")]),t("span",{class:"token punctuation"},">")]),c("aReactive: {{aReactive}}"),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),c("p")]),t("span",{class:"token punctuation"},">")]),c("\n    "),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),c("p")]),t("span",{class:"token punctuation"},">")]),c("bReactive: {{bReactive}}"),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),c("p")]),t("span",{class:"token punctuation"},">")]),c("\n  "),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),c("div")]),t("span",{class:"token punctuation"},">")]),c("\n"),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),c("template")]),t("span",{class:"token punctuation"},">")]),c("\n\n"),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),c("script")]),t("span",{class:"token punctuation"},">")]),t("span",{class:"token script"},[t("span",{class:"token language-javascript"},[c("\n"),t("span",{class:"token keyword"},"import"),c(),t("span",{class:"token punctuation"},"{"),c(" defineComponent"),t("span",{class:"token punctuation"},","),c(" ref"),t("span",{class:"token punctuation"},","),c(" reactive"),t("span",{class:"token punctuation"},","),c(" onUnmounted "),t("span",{class:"token punctuation"},"}"),c(),t("span",{class:"token keyword"},"from"),c(),t("span",{class:"token string"},"'vue'"),c("\n"),t("span",{class:"token keyword"},"export"),c(),t("span",{class:"token keyword"},"default"),c(),t("span",{class:"token function"},"defineComponent"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},"{"),c("\n  "),t("span",{class:"token function"},"setup"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},")"),c(),t("span",{class:"token punctuation"},"{"),c("\n    "),t("span",{class:"token keyword"},"const"),c(" count "),t("span",{class:"token operator"},"="),c(),t("span",{class:"token function"},"ref"),t("span",{class:"token punctuation"},"("),t("span",{class:"token number"},"0"),t("span",{class:"token punctuation"},")"),c("\n    "),t("span",{class:"token keyword"},"const"),c(" stateRef "),t("span",{class:"token operator"},"="),c(),t("span",{class:"token function"},"ref"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},"{"),c(" aRef"),t("span",{class:"token operator"},":"),c(),t("span",{class:"token number"},"0"),t("span",{class:"token punctuation"},","),c(" bRef"),t("span",{class:"token operator"},":"),c(),t("span",{class:"token number"},"0"),c(),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),c("\n    "),t("span",{class:"token keyword"},"const"),c(" stateReactive "),t("span",{class:"token operator"},"="),c(),t("span",{class:"token function"},"reactive"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},"{"),c(" aReactive"),t("span",{class:"token operator"},":"),c(),t("span",{class:"token number"},"0"),t("span",{class:"token punctuation"},","),c(" bReactive"),t("span",{class:"token operator"},":"),c(),t("span",{class:"token number"},"0"),c(),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),c("\n    "),t("span",{class:"token keyword"},"const"),c(),t("span",{class:"token punctuation"},"{"),c("aRef"),t("span",{class:"token punctuation"},","),c(" bRef"),t("span",{class:"token punctuation"},"}"),c(),t("span",{class:"token operator"},"="),c(" stateRef"),t("span",{class:"token punctuation"},"."),c("value\n    "),t("span",{class:"token keyword"},"const"),c(),t("span",{class:"token punctuation"},"{"),c("aReactive"),t("span",{class:"token punctuation"},","),c(" bReactive"),t("span",{class:"token punctuation"},"}"),c(),t("span",{class:"token operator"},"="),c(" stateReactive\n    "),t("span",{class:"token keyword"},"const"),c(" time "),t("span",{class:"token operator"},"="),c(),t("span",{class:"token function"},"setInterval"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},")"),c(),t("span",{class:"token operator"},"=>"),c(),t("span",{class:"token punctuation"},"{"),c("\n      count"),t("span",{class:"token punctuation"},"."),c("value "),t("span",{class:"token operator"},"++"),t("span",{class:"token punctuation"},";"),c("\n      stateRef"),t("span",{class:"token punctuation"},"."),c("value"),t("span",{class:"token punctuation"},"."),c("aRef "),t("span",{class:"token operator"},"+="),c(),t("span",{class:"token number"},"2"),t("span",{class:"token punctuation"},";"),c("\n      stateRef"),t("span",{class:"token punctuation"},"."),c("value"),t("span",{class:"token punctuation"},"."),c("bRef "),t("span",{class:"token operator"},"+="),c(),t("span",{class:"token number"},"3"),t("span",{class:"token punctuation"},";"),c("\n      stateReactive"),t("span",{class:"token punctuation"},"."),c("aReactive "),t("span",{class:"token operator"},"+="),c(),t("span",{class:"token number"},"2"),t("span",{class:"token punctuation"},";"),c("\n      stateReactive"),t("span",{class:"token punctuation"},"."),c("bReactive "),t("span",{class:"token operator"},"+="),c(),t("span",{class:"token number"},"3"),t("span",{class:"token punctuation"},";"),c("\n    "),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),c(),t("span",{class:"token number"},"1000"),t("span",{class:"token punctuation"},")"),c("\n    "),t("span",{class:"token function"},"onUnmounted"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},")"),c(),t("span",{class:"token operator"},"=>"),c(),t("span",{class:"token punctuation"},"{"),c("\n      "),t("span",{class:"token function"},"clearInterval"),t("span",{class:"token punctuation"},"("),c("time"),t("span",{class:"token punctuation"},")"),c("\n    "),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),c("\n    "),t("span",{class:"token keyword"},"return"),c(),t("span",{class:"token punctuation"},"{"),c("\n      count"),t("span",{class:"token punctuation"},","),c("\n      aRef"),t("span",{class:"token punctuation"},","),c("\n      bRef"),t("span",{class:"token punctuation"},","),c("\n      aReactive"),t("span",{class:"token punctuation"},","),c("\n      bReactive\n    "),t("span",{class:"token punctuation"},"}"),c("\n  "),t("span",{class:"token punctuation"},"}"),c("\n"),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),c("\n")])]),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),c("script")]),t("span",{class:"token punctuation"},">")]),c("\n")])]),t("div",{class:"line-numbers"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br"),t("span",{class:"line-number"},"3"),t("br"),t("span",{class:"line-number"},"4"),t("br"),t("span",{class:"line-number"},"5"),t("br"),t("span",{class:"line-number"},"6"),t("br"),t("span",{class:"line-number"},"7"),t("br"),t("span",{class:"line-number"},"8"),t("br"),t("span",{class:"line-number"},"9"),t("br"),t("span",{class:"line-number"},"10"),t("br"),t("span",{class:"line-number"},"11"),t("br"),t("span",{class:"line-number"},"12"),t("br"),t("span",{class:"line-number"},"13"),t("br"),t("span",{class:"line-number"},"14"),t("br"),t("span",{class:"line-number"},"15"),t("br"),t("span",{class:"line-number"},"16"),t("br"),t("span",{class:"line-number"},"17"),t("br"),t("span",{class:"line-number"},"18"),t("br"),t("span",{class:"line-number"},"19"),t("br"),t("span",{class:"line-number"},"20"),t("br"),t("span",{class:"line-number"},"21"),t("br"),t("span",{class:"line-number"},"22"),t("br"),t("span",{class:"line-number"},"23"),t("br"),t("span",{class:"line-number"},"24"),t("br"),t("span",{class:"line-number"},"25"),t("br"),t("span",{class:"line-number"},"26"),t("br"),t("span",{class:"line-number"},"27"),t("br"),t("span",{class:"line-number"},"28"),t("br"),t("span",{class:"line-number"},"29"),t("br"),t("span",{class:"line-number"},"30"),t("br"),t("span",{class:"line-number"},"31"),t("br"),t("span",{class:"line-number"},"32"),t("br"),t("span",{class:"line-number"},"33"),t("br"),t("span",{class:"line-number"},"34"),t("br"),t("span",{class:"line-number"},"35"),t("br"),t("span",{class:"line-number"},"36"),t("br"),t("span",{class:"line-number"},"37"),t("br"),t("span",{class:"line-number"},"38"),t("br"),t("span",{class:"line-number"},"39"),t("br")])],-1),j=t("p",null,[t("strong",null,"有toRefs demo")],-1),A=t("div",{class:"language-vue ext-vue line-numbers-mode"},[t("pre",{class:"language-vue"},[t("code",null,[t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),c("template")]),t("span",{class:"token punctuation"},">")]),c("\n  "),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),c("div")]),t("span",{class:"token punctuation"},">")]),c("\n    "),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),c("p")]),t("span",{class:"token punctuation"},">")]),c("count: {{count}}"),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),c("p")]),t("span",{class:"token punctuation"},">")]),c("\n    "),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),c("p")]),t("span",{class:"token punctuation"},">")]),c("aRef: {{aRef}}"),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),c("p")]),t("span",{class:"token punctuation"},">")]),c("\n    "),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),c("p")]),t("span",{class:"token punctuation"},">")]),c("bRef: {{bRef}}"),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),c("p")]),t("span",{class:"token punctuation"},">")]),c("\n    "),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),c("p")]),t("span",{class:"token punctuation"},">")]),c("aReactive: {{aReactive}}"),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),c("p")]),t("span",{class:"token punctuation"},">")]),c("\n    "),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),c("p")]),t("span",{class:"token punctuation"},">")]),c("bReactive: {{bReactive}}"),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),c("p")]),t("span",{class:"token punctuation"},">")]),c("\n  "),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),c("div")]),t("span",{class:"token punctuation"},">")]),c("\n"),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),c("template")]),t("span",{class:"token punctuation"},">")]),c("\n\n"),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),c("script")]),t("span",{class:"token punctuation"},">")]),t("span",{class:"token script"},[t("span",{class:"token language-javascript"},[c("\n"),t("span",{class:"token keyword"},"import"),c(),t("span",{class:"token punctuation"},"{"),c(" defineComponent"),t("span",{class:"token punctuation"},","),c(" ref"),t("span",{class:"token punctuation"},","),c(" reactive"),t("span",{class:"token punctuation"},","),c(" onUnmounted"),t("span",{class:"token punctuation"},","),c(" toRefs "),t("span",{class:"token punctuation"},"}"),c(),t("span",{class:"token keyword"},"from"),c(),t("span",{class:"token string"},"'vue'"),c("\n"),t("span",{class:"token keyword"},"export"),c(),t("span",{class:"token keyword"},"default"),c(),t("span",{class:"token function"},"defineComponent"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},"{"),c("\n  "),t("span",{class:"token function"},"setup"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},")"),c(),t("span",{class:"token punctuation"},"{"),c("\n    "),t("span",{class:"token keyword"},"const"),c(" count "),t("span",{class:"token operator"},"="),c(),t("span",{class:"token function"},"ref"),t("span",{class:"token punctuation"},"("),t("span",{class:"token number"},"0"),t("span",{class:"token punctuation"},")"),c("\n    "),t("span",{class:"token keyword"},"const"),c(" stateRef "),t("span",{class:"token operator"},"="),c(),t("span",{class:"token function"},"ref"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},"{"),c(" aRef"),t("span",{class:"token operator"},":"),c(),t("span",{class:"token number"},"0"),t("span",{class:"token punctuation"},","),c(" bRef"),t("span",{class:"token operator"},":"),c(),t("span",{class:"token number"},"0"),c(),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),c("\n    "),t("span",{class:"token keyword"},"const"),c(" stateReactive "),t("span",{class:"token operator"},"="),c(),t("span",{class:"token function"},"reactive"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},"{"),c(" aReactive"),t("span",{class:"token operator"},":"),c(),t("span",{class:"token number"},"0"),t("span",{class:"token punctuation"},","),c(" bReactive"),t("span",{class:"token operator"},":"),c(),t("span",{class:"token number"},"0"),c(),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),c("\n    "),t("span",{class:"token keyword"},"const"),c(),t("span",{class:"token punctuation"},"{"),c("aRef"),t("span",{class:"token punctuation"},","),c(" bRef"),t("span",{class:"token punctuation"},"}"),c(),t("span",{class:"token operator"},"="),c(),t("span",{class:"token function"},"toRefs"),t("span",{class:"token punctuation"},"("),c("stateRef"),t("span",{class:"token punctuation"},"."),c("value"),t("span",{class:"token punctuation"},")"),c("\n    "),t("span",{class:"token keyword"},"const"),c(),t("span",{class:"token punctuation"},"{"),c("aReactive"),t("span",{class:"token punctuation"},","),c(" bReactive"),t("span",{class:"token punctuation"},"}"),c(),t("span",{class:"token operator"},"="),c(),t("span",{class:"token function"},"toRefs"),t("span",{class:"token punctuation"},"("),c("stateReactive"),t("span",{class:"token punctuation"},")"),c("\n    "),t("span",{class:"token keyword"},"const"),c(" time "),t("span",{class:"token operator"},"="),c(),t("span",{class:"token function"},"setInterval"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},")"),c(),t("span",{class:"token operator"},"=>"),c(),t("span",{class:"token punctuation"},"{"),c("\n      count"),t("span",{class:"token punctuation"},"."),c("value "),t("span",{class:"token operator"},"++"),t("span",{class:"token punctuation"},";"),c("\n      stateRef"),t("span",{class:"token punctuation"},"."),c("value"),t("span",{class:"token punctuation"},"."),c("aRef "),t("span",{class:"token operator"},"+="),c(),t("span",{class:"token number"},"2"),t("span",{class:"token punctuation"},";"),c("\n      stateRef"),t("span",{class:"token punctuation"},"."),c("value"),t("span",{class:"token punctuation"},"."),c("bRef "),t("span",{class:"token operator"},"+="),c(),t("span",{class:"token number"},"3"),t("span",{class:"token punctuation"},";"),c("\n      stateReactive"),t("span",{class:"token punctuation"},"."),c("aReactive "),t("span",{class:"token operator"},"+="),c(),t("span",{class:"token number"},"2"),t("span",{class:"token punctuation"},";"),c("\n      stateReactive"),t("span",{class:"token punctuation"},"."),c("bReactive "),t("span",{class:"token operator"},"+="),c(),t("span",{class:"token number"},"3"),t("span",{class:"token punctuation"},";"),c("\n    "),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),c(),t("span",{class:"token number"},"1000"),t("span",{class:"token punctuation"},")"),c("\n    "),t("span",{class:"token function"},"onUnmounted"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},")"),c(),t("span",{class:"token operator"},"=>"),c(),t("span",{class:"token punctuation"},"{"),c("\n      "),t("span",{class:"token function"},"clearInterval"),t("span",{class:"token punctuation"},"("),c("time"),t("span",{class:"token punctuation"},")"),c("\n    "),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),c("\n    "),t("span",{class:"token keyword"},"return"),c(),t("span",{class:"token punctuation"},"{"),c("\n      count"),t("span",{class:"token punctuation"},","),c("\n      aRef"),t("span",{class:"token punctuation"},","),c("\n      bRef"),t("span",{class:"token punctuation"},","),c("\n      aReactive"),t("span",{class:"token punctuation"},","),c("\n      bReactive\n    "),t("span",{class:"token punctuation"},"}"),c("\n  "),t("span",{class:"token punctuation"},"}"),c("\n"),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),c("\n")])]),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),c("script")]),t("span",{class:"token punctuation"},">")]),c("\n")])]),t("div",{class:"line-numbers"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br"),t("span",{class:"line-number"},"3"),t("br"),t("span",{class:"line-number"},"4"),t("br"),t("span",{class:"line-number"},"5"),t("br"),t("span",{class:"line-number"},"6"),t("br"),t("span",{class:"line-number"},"7"),t("br"),t("span",{class:"line-number"},"8"),t("br"),t("span",{class:"line-number"},"9"),t("br"),t("span",{class:"line-number"},"10"),t("br"),t("span",{class:"line-number"},"11"),t("br"),t("span",{class:"line-number"},"12"),t("br"),t("span",{class:"line-number"},"13"),t("br"),t("span",{class:"line-number"},"14"),t("br"),t("span",{class:"line-number"},"15"),t("br"),t("span",{class:"line-number"},"16"),t("br"),t("span",{class:"line-number"},"17"),t("br"),t("span",{class:"line-number"},"18"),t("br"),t("span",{class:"line-number"},"19"),t("br"),t("span",{class:"line-number"},"20"),t("br"),t("span",{class:"line-number"},"21"),t("br"),t("span",{class:"line-number"},"22"),t("br"),t("span",{class:"line-number"},"23"),t("br"),t("span",{class:"line-number"},"24"),t("br"),t("span",{class:"line-number"},"25"),t("br"),t("span",{class:"line-number"},"26"),t("br"),t("span",{class:"line-number"},"27"),t("br"),t("span",{class:"line-number"},"28"),t("br"),t("span",{class:"line-number"},"29"),t("br"),t("span",{class:"line-number"},"30"),t("br"),t("span",{class:"line-number"},"31"),t("br"),t("span",{class:"line-number"},"32"),t("br"),t("span",{class:"line-number"},"33"),t("br"),t("span",{class:"line-number"},"34"),t("br"),t("span",{class:"line-number"},"35"),t("br"),t("span",{class:"line-number"},"36"),t("br"),t("span",{class:"line-number"},"37"),t("br"),t("span",{class:"line-number"},"38"),t("br"),t("span",{class:"line-number"},"39"),t("br")])],-1),E=t("h2",{id:"生命周期",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#生命周期","aria-hidden":"true"},"#"),c(" 生命周期")],-1),P=t("p",null,"通过生命周期图来看下options API和compositio API的对比",-1),U=t("p",null,[t("img",{src:"/vue3-learning/assets/lifeCycle.1cd25cfc.png",alt:"lifeCycle"})],-1),W=t("p",null,[t("img",{src:"/vue3-learning/assets/lifeCycle2.a9d5c609.png",alt:"lifeCycle2"})],-1),F=t("h2",{id:"watch和watcheffect的用法",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#watch和watcheffect的用法","aria-hidden":"true"},"#"),c(" watch和watchEffect的用法")],-1),O=t("h3",{id:"watch",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#watch","aria-hidden":"true"},"#"),c(" watch")],-1),J=t("blockquote",null,[t("p",null,"watch 函数用来侦听特定的数据源，并在回调函数中执行副作用。默认情况是惰性的，也就是说仅在侦听的源数据变更时才执行回调。")],-1),T=t("div",{class:"language-vue ext-vue line-numbers-mode"},[t("pre",{class:"language-vue"},[t("code",null,"watch(source, callback, [options])\n复制代码\n")]),t("div",{class:"line-numbers"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br")])],-1),z=t("p",null,"参数说明：",-1),B=t("ul",null,[t("li",null,"source: 可以支持 string,Object,Function,Array; 用于指定要侦听的响应式变量"),t("li",null,"callback: 执行的回调函数"),t("li",null,"options：支持 deep、immediate 和 flush 选项。")],-1),D=t("p",null,[t("strong",null,"监听ref和reactive定义的数据")],-1),G=t("div",{class:"language-vue ext-vue line-numbers-mode"},[t("pre",{class:"language-vue"},[t("code",null,[t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),c("template")]),t("span",{class:"token punctuation"},">")]),c("\n  "),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),c("button")]),c(),t("span",{class:"token attr-name"},"type"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),c("button"),t("span",{class:"token punctuation"},'"')]),c(),t("span",{class:"token attr-name"},"@click"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),c("refCount++"),t("span",{class:"token punctuation"},'"')]),t("span",{class:"token punctuation"},">")]),c("\n    refCount is: {{ refCount }}\n  "),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),c("button")]),t("span",{class:"token punctuation"},">")]),c("\n  "),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),c("button")]),c(),t("span",{class:"token special-attr"},[t("span",{class:"token attr-name"},"style"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),t("span",{class:"token value css language-css"},[t("span",{class:"token property"},"margin-left"),t("span",{class:"token punctuation"},":"),c(" 20px")]),t("span",{class:"token punctuation"},'"')])]),c(),t("span",{class:"token attr-name"},"type"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),c("button"),t("span",{class:"token punctuation"},'"')]),c(),t("span",{class:"token attr-name"},"@click"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),c("reactiveState.count++"),t("span",{class:"token punctuation"},'"')]),t("span",{class:"token punctuation"},">")]),c("\n    reactiveState.count is: {{ reactiveState.count }}\n  "),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),c("button")]),t("span",{class:"token punctuation"},">")]),c("\n"),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),c("template")]),t("span",{class:"token punctuation"},">")]),c("\n\n"),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),c("script")]),t("span",{class:"token punctuation"},">")]),t("span",{class:"token script"},[t("span",{class:"token language-javascript"},[c("\n"),t("span",{class:"token keyword"},"import"),c(),t("span",{class:"token punctuation"},"{"),c("defineComponent"),t("span",{class:"token punctuation"},","),c(" ref"),t("span",{class:"token punctuation"},","),c(" reactive"),t("span",{class:"token punctuation"},","),c(" watch"),t("span",{class:"token punctuation"},"}"),c(),t("span",{class:"token keyword"},"from"),c(),t("span",{class:"token string"},"'vue'"),c("\n"),t("span",{class:"token keyword"},"export"),c(),t("span",{class:"token keyword"},"default"),c(),t("span",{class:"token function"},"defineComponent"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},"{"),c("\n  "),t("span",{class:"token function"},"setup"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},")"),c(),t("span",{class:"token punctuation"},"{"),c("\n    "),t("span",{class:"token keyword"},"const"),c(" refCount "),t("span",{class:"token operator"},"="),c(),t("span",{class:"token function"},"ref"),t("span",{class:"token punctuation"},"("),t("span",{class:"token number"},"0"),t("span",{class:"token punctuation"},")"),c("\n    "),t("span",{class:"token keyword"},"const"),c(" reactiveState "),t("span",{class:"token operator"},"="),c(),t("span",{class:"token function"},"reactive"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},"{"),c("count"),t("span",{class:"token operator"},":"),c(),t("span",{class:"token number"},"0"),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),c("\n    "),t("span",{class:"token function"},"watch"),t("span",{class:"token punctuation"},"("),c("refCount"),t("span",{class:"token punctuation"},","),c(),t("span",{class:"token punctuation"},"("),t("span",{class:"token parameter"},[c("newVal"),t("span",{class:"token punctuation"},","),c(" oldVal")]),t("span",{class:"token punctuation"},")"),c(),t("span",{class:"token operator"},"=>"),c(),t("span",{class:"token punctuation"},"{"),c("\n      console"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"log"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'refCount '"),t("span",{class:"token punctuation"},","),c(),t("span",{class:"token string"},"'newVal:'"),t("span",{class:"token punctuation"},","),c(" newVal"),t("span",{class:"token punctuation"},","),c(),t("span",{class:"token string"},"' oldVal:'"),t("span",{class:"token punctuation"},","),c(" oldVal"),t("span",{class:"token punctuation"},")"),c("\n    "),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),c("\n    "),t("span",{class:"token function"},"watch"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},")"),c(),t("span",{class:"token operator"},"=>"),c(" reactiveState"),t("span",{class:"token punctuation"},"."),c("count"),t("span",{class:"token punctuation"},","),c(),t("span",{class:"token punctuation"},"("),t("span",{class:"token parameter"},[c("newVal"),t("span",{class:"token punctuation"},","),c(" oldVal")]),t("span",{class:"token punctuation"},")"),c(),t("span",{class:"token operator"},"=>"),c(),t("span",{class:"token punctuation"},"{"),c("\n      console"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"log"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'reactiveState.count '"),t("span",{class:"token punctuation"},","),c(),t("span",{class:"token string"},"'newVal:'"),t("span",{class:"token punctuation"},","),c(" newVal"),t("span",{class:"token punctuation"},","),c(),t("span",{class:"token string"},"' oldVal:'"),t("span",{class:"token punctuation"},","),c(" oldVal"),t("span",{class:"token punctuation"},")"),c("\n    "),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),c("\n    "),t("span",{class:"token keyword"},"return"),c(),t("span",{class:"token punctuation"},"{"),c("\n      refCount"),t("span",{class:"token punctuation"},","),c("\n      reactiveState\n    "),t("span",{class:"token punctuation"},"}"),c("\n  "),t("span",{class:"token punctuation"},"}"),c("\n"),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),c("\n")])]),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),c("script")]),t("span",{class:"token punctuation"},">")]),c("\n")])]),t("div",{class:"line-numbers"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br"),t("span",{class:"line-number"},"3"),t("br"),t("span",{class:"line-number"},"4"),t("br"),t("span",{class:"line-number"},"5"),t("br"),t("span",{class:"line-number"},"6"),t("br"),t("span",{class:"line-number"},"7"),t("br"),t("span",{class:"line-number"},"8"),t("br"),t("span",{class:"line-number"},"9"),t("br"),t("span",{class:"line-number"},"10"),t("br"),t("span",{class:"line-number"},"11"),t("br"),t("span",{class:"line-number"},"12"),t("br"),t("span",{class:"line-number"},"13"),t("br"),t("span",{class:"line-number"},"14"),t("br"),t("span",{class:"line-number"},"15"),t("br"),t("span",{class:"line-number"},"16"),t("br"),t("span",{class:"line-number"},"17"),t("br"),t("span",{class:"line-number"},"18"),t("br"),t("span",{class:"line-number"},"19"),t("br"),t("span",{class:"line-number"},"20"),t("br"),t("span",{class:"line-number"},"21"),t("br"),t("span",{class:"line-number"},"22"),t("br"),t("span",{class:"line-number"},"23"),t("br"),t("span",{class:"line-number"},"24"),t("br"),t("span",{class:"line-number"},"25"),t("br"),t("span",{class:"line-number"},"26"),t("br"),t("span",{class:"line-number"},"27"),t("br"),t("span",{class:"line-number"},"28"),t("br")])],-1),H=t("p",null,[t("strong",null,"监听多个数据")],-1),K=t("div",{class:"language-vue ext-vue line-numbers-mode"},[t("pre",{class:"language-vue"},[t("code",null,[t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),c("template")]),t("span",{class:"token punctuation"},">")]),c("\n  "),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),c("button")]),c(),t("span",{class:"token attr-name"},"type"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),c("button"),t("span",{class:"token punctuation"},'"')]),c(),t("span",{class:"token attr-name"},"@click"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),c("refCount++"),t("span",{class:"token punctuation"},'"')]),t("span",{class:"token punctuation"},">")]),c("\n    refCount is: {{ refCount }}\n  "),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),c("button")]),t("span",{class:"token punctuation"},">")]),c("\n  "),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),c("button")]),c(),t("span",{class:"token special-attr"},[t("span",{class:"token attr-name"},"style"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),t("span",{class:"token value css language-css"},[t("span",{class:"token property"},"margin-left"),t("span",{class:"token punctuation"},":"),c(" 20px")]),t("span",{class:"token punctuation"},'"')])]),c(),t("span",{class:"token attr-name"},"type"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),c("button"),t("span",{class:"token punctuation"},'"')]),c(),t("span",{class:"token attr-name"},"@click"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),c("reactiveState.count++"),t("span",{class:"token punctuation"},'"')]),t("span",{class:"token punctuation"},">")]),c("\n    reactiveState.count is: {{ reactiveState.count }}\n  "),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),c("button")]),t("span",{class:"token punctuation"},">")]),c("\n"),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),c("template")]),t("span",{class:"token punctuation"},">")]),c("\n\n"),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),c("script")]),t("span",{class:"token punctuation"},">")]),t("span",{class:"token script"},[t("span",{class:"token language-javascript"},[c("\n"),t("span",{class:"token keyword"},"import"),c(),t("span",{class:"token punctuation"},"{"),c("defineComponent"),t("span",{class:"token punctuation"},","),c(" ref"),t("span",{class:"token punctuation"},","),c(" reactive"),t("span",{class:"token punctuation"},","),c(" watch"),t("span",{class:"token punctuation"},"}"),c(),t("span",{class:"token keyword"},"from"),c(),t("span",{class:"token string"},"'vue'"),c("\n\n"),t("span",{class:"token keyword"},"export"),c(),t("span",{class:"token keyword"},"default"),c(),t("span",{class:"token function"},"defineComponent"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},"{"),c("\n  "),t("span",{class:"token function"},"setup"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},")"),c(),t("span",{class:"token punctuation"},"{"),c("\n    "),t("span",{class:"token keyword"},"const"),c(" refCount "),t("span",{class:"token operator"},"="),c(),t("span",{class:"token function"},"ref"),t("span",{class:"token punctuation"},"("),t("span",{class:"token number"},"0"),t("span",{class:"token punctuation"},")"),c("\n    "),t("span",{class:"token keyword"},"const"),c(" reactiveState "),t("span",{class:"token operator"},"="),c(),t("span",{class:"token function"},"reactive"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},"{"),c("count"),t("span",{class:"token operator"},":"),c(),t("span",{class:"token number"},"0"),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),c("\n    "),t("span",{class:"token function"},"watch"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},"["),c("refCount"),t("span",{class:"token punctuation"},","),c(),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},")"),c(),t("span",{class:"token operator"},"=>"),c(" reactiveState"),t("span",{class:"token punctuation"},"."),c("count"),t("span",{class:"token punctuation"},"]"),t("span",{class:"token punctuation"},","),c("\n        "),t("span",{class:"token punctuation"},"("),t("span",{class:"token parameter"},[t("span",{class:"token punctuation"},"["),c("newRefVal"),t("span",{class:"token punctuation"},","),c(" oldRefVal"),t("span",{class:"token punctuation"},"]"),t("span",{class:"token punctuation"},","),c(),t("span",{class:"token punctuation"},"["),c("newReactiveVal"),t("span",{class:"token punctuation"},","),c(" oldReactiveVal"),t("span",{class:"token punctuation"},"]")]),t("span",{class:"token punctuation"},")"),c(),t("span",{class:"token operator"},"=>"),c(),t("span",{class:"token punctuation"},"{"),c("\n          console"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"log"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'refCount '"),t("span",{class:"token punctuation"},","),c(),t("span",{class:"token string"},"'newVal:'"),t("span",{class:"token punctuation"},","),c(" newRefVal"),t("span",{class:"token punctuation"},","),c(),t("span",{class:"token string"},"' oldVal:'"),t("span",{class:"token punctuation"},","),c(" oldRefVal"),t("span",{class:"token punctuation"},")"),c("\n          console"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"log"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'reactiveState.count '"),t("span",{class:"token punctuation"},","),c(),t("span",{class:"token string"},"'newVal:'"),t("span",{class:"token punctuation"},","),c(" newReactiveVal"),t("span",{class:"token punctuation"},","),c(),t("span",{class:"token string"},"' oldVal:'"),t("span",{class:"token punctuation"},","),c(" oldReactiveVal"),t("span",{class:"token punctuation"},")"),c("\n        "),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),c("\n    "),t("span",{class:"token keyword"},"return"),c(),t("span",{class:"token punctuation"},"{"),c("\n      refCount"),t("span",{class:"token punctuation"},","),c("\n      reactiveState\n    "),t("span",{class:"token punctuation"},"}"),c("\n  "),t("span",{class:"token punctuation"},"}"),c("\n"),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),c("\n")])]),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),c("script")]),t("span",{class:"token punctuation"},">")]),c("\n")])]),t("div",{class:"line-numbers"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br"),t("span",{class:"line-number"},"3"),t("br"),t("span",{class:"line-number"},"4"),t("br"),t("span",{class:"line-number"},"5"),t("br"),t("span",{class:"line-number"},"6"),t("br"),t("span",{class:"line-number"},"7"),t("br"),t("span",{class:"line-number"},"8"),t("br"),t("span",{class:"line-number"},"9"),t("br"),t("span",{class:"line-number"},"10"),t("br"),t("span",{class:"line-number"},"11"),t("br"),t("span",{class:"line-number"},"12"),t("br"),t("span",{class:"line-number"},"13"),t("br"),t("span",{class:"line-number"},"14"),t("br"),t("span",{class:"line-number"},"15"),t("br"),t("span",{class:"line-number"},"16"),t("br"),t("span",{class:"line-number"},"17"),t("br"),t("span",{class:"line-number"},"18"),t("br"),t("span",{class:"line-number"},"19"),t("br"),t("span",{class:"line-number"},"20"),t("br"),t("span",{class:"line-number"},"21"),t("br"),t("span",{class:"line-number"},"22"),t("br"),t("span",{class:"line-number"},"23"),t("br"),t("span",{class:"line-number"},"24"),t("br"),t("span",{class:"line-number"},"25"),t("br"),t("span",{class:"line-number"},"26"),t("br"),t("span",{class:"line-number"},"27"),t("br"),t("span",{class:"line-number"},"28"),t("br")])],-1),L=t("p",null,[t("strong",null,"Options")],-1),M=t("p",null,[c("和"),t("code",null,"options API"),c("的deep和immediate一样，"),t("code",null,"deep"),c("可以观察复杂的嵌套数据，因为watch是惰性的，"),t("code",null,"immediate"),c("可以立即执行watch的回调函数")],-1),N=t("p",null,"flush:",-1),Q=t("ul",null,[t("li",null,"默认为 'post'"),t("li",null,"如果为 'sync'，则立即执行 cb"),t("li",null,"如果为 'pre' 或 'post'，则用 queueFlushJob 插入队列前或后在 nextTick 异步执行")],-1),X=t("p",null,[t("strong",null,"stop停止监听")],-1),Y=t("p",null,"watch的监听会在组件销毁时自动停止，那如果想要销毁前停止某个watch，可以如下方式",-1),Z=t("div",{class:"language-vue ext-vue line-numbers-mode"},[t("pre",{class:"language-vue"},[t("code",null,[t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),c("template")]),t("span",{class:"token punctuation"},">")]),c("\n  "),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),c("button")]),c(),t("span",{class:"token attr-name"},"type"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),c("button"),t("span",{class:"token punctuation"},'"')]),c(),t("span",{class:"token attr-name"},"@click"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),c("refCount++"),t("span",{class:"token punctuation"},'"')]),t("span",{class:"token punctuation"},">")]),c("\n    refCount is: {{ refCount }}\n  "),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),c("button")]),t("span",{class:"token punctuation"},">")]),c("\n  "),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),c("button")]),c(),t("span",{class:"token special-attr"},[t("span",{class:"token attr-name"},"style"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),t("span",{class:"token value css language-css"},[t("span",{class:"token property"},"margin-left"),t("span",{class:"token punctuation"},":"),c(" 10px")]),t("span",{class:"token punctuation"},'"')])]),c(),t("span",{class:"token attr-name"},"type"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),c("button"),t("span",{class:"token punctuation"},'"')]),c(),t("span",{class:"token attr-name"},"@click"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),c("stopWatch"),t("span",{class:"token punctuation"},'"')]),t("span",{class:"token punctuation"},">")]),c("\n    stopWatch\n  "),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),c("button")]),t("span",{class:"token punctuation"},">")]),c("\n"),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),c("template")]),t("span",{class:"token punctuation"},">")]),c("\n\n"),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),c("script")]),t("span",{class:"token punctuation"},">")]),t("span",{class:"token script"},[t("span",{class:"token language-javascript"},[c("\n"),t("span",{class:"token keyword"},"import"),c(),t("span",{class:"token punctuation"},"{"),c("defineComponent"),t("span",{class:"token punctuation"},","),c(" ref"),t("span",{class:"token punctuation"},","),c(" reactive"),t("span",{class:"token punctuation"},","),c(" watch"),t("span",{class:"token punctuation"},"}"),c(),t("span",{class:"token keyword"},"from"),c(),t("span",{class:"token string"},"'vue'"),c("\n"),t("span",{class:"token keyword"},"export"),c(),t("span",{class:"token keyword"},"default"),c(),t("span",{class:"token function"},"defineComponent"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},"{"),c("\n  "),t("span",{class:"token function"},"setup"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},")"),c(),t("span",{class:"token punctuation"},"{"),c("\n    "),t("span",{class:"token keyword"},"const"),c(" refCount "),t("span",{class:"token operator"},"="),c(),t("span",{class:"token function"},"ref"),t("span",{class:"token punctuation"},"("),t("span",{class:"token number"},"0"),t("span",{class:"token punctuation"},")"),c("\n    "),t("span",{class:"token keyword"},"const"),c(" stopWatch "),t("span",{class:"token operator"},"="),c(),t("span",{class:"token function"},"watch"),t("span",{class:"token punctuation"},"("),c("refCount"),t("span",{class:"token punctuation"},","),c(),t("span",{class:"token punctuation"},"("),t("span",{class:"token parameter"},[c("newVal"),t("span",{class:"token punctuation"},","),c(" oldVal")]),t("span",{class:"token punctuation"},")"),c(),t("span",{class:"token operator"},"=>"),c(),t("span",{class:"token punctuation"},"{"),c("\n      console"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"log"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'refCount '"),t("span",{class:"token punctuation"},","),c(),t("span",{class:"token string"},"'newVal:'"),t("span",{class:"token punctuation"},","),c(" newVal"),t("span",{class:"token punctuation"},","),c(),t("span",{class:"token string"},"' oldVal:'"),t("span",{class:"token punctuation"},","),c(" oldVal"),t("span",{class:"token punctuation"},")"),c("\n    "),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),c("\n    "),t("span",{class:"token keyword"},"return"),c(),t("span",{class:"token punctuation"},"{"),c("\n      refCount"),t("span",{class:"token punctuation"},","),c("\n      stopWatch\n    "),t("span",{class:"token punctuation"},"}"),c("\n  "),t("span",{class:"token punctuation"},"}"),c("\n"),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),c("\n")])]),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),c("script")]),t("span",{class:"token punctuation"},">")]),c("\n")])]),t("div",{class:"line-numbers"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br"),t("span",{class:"line-number"},"3"),t("br"),t("span",{class:"line-number"},"4"),t("br"),t("span",{class:"line-number"},"5"),t("br"),t("span",{class:"line-number"},"6"),t("br"),t("span",{class:"line-number"},"7"),t("br"),t("span",{class:"line-number"},"8"),t("br"),t("span",{class:"line-number"},"9"),t("br"),t("span",{class:"line-number"},"10"),t("br"),t("span",{class:"line-number"},"11"),t("br"),t("span",{class:"line-number"},"12"),t("br"),t("span",{class:"line-number"},"13"),t("br"),t("span",{class:"line-number"},"14"),t("br"),t("span",{class:"line-number"},"15"),t("br"),t("span",{class:"line-number"},"16"),t("br"),t("span",{class:"line-number"},"17"),t("br"),t("span",{class:"line-number"},"18"),t("br"),t("span",{class:"line-number"},"19"),t("br"),t("span",{class:"line-number"},"20"),t("br"),t("span",{class:"line-number"},"21"),t("br"),t("span",{class:"line-number"},"22"),t("br"),t("span",{class:"line-number"},"23"),t("br"),t("span",{class:"line-number"},"24"),t("br")])],-1),$=t("h3",{id:"watcheffect",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#watcheffect","aria-hidden":"true"},"#"),c(" watchEffect")],-1),_=t("p",null,[t("strong",null,"watchEffect与watch的区别：")],-1),nn=t("p",null,"watch 是需要传入侦听的数据源，而 watchEffect 是自动收集数据源作为依赖。",-1),sn=t("p",null,"watch 可以访问侦听状态变化前后的值，而 watchEffect 没有，watchEffect获取的改变后的值。",-1),an=t("p",null,"watch 是属性改变的时候执行，当然也可以immediate，而 watchEffect 是默认会执行一次(相当于自带 immediate)，然后属性改变也会执行。",-1),tn=t("p",null,[t("strong",null,"demo")],-1),en=t("div",{class:"language-vue ext-vue line-numbers-mode"},[t("pre",{class:"language-vue"},[t("code",null,[t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),c("template")]),t("span",{class:"token punctuation"},">")]),c("\n  "),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),c("button")]),c(),t("span",{class:"token attr-name"},"type"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),c("button"),t("span",{class:"token punctuation"},'"')]),c(),t("span",{class:"token attr-name"},"@click"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),c("refCount++"),t("span",{class:"token punctuation"},'"')]),t("span",{class:"token punctuation"},">")]),c("\n    refCount is: {{ refCount }}\n  "),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),c("button")]),t("span",{class:"token punctuation"},">")]),c("\n  "),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),c("button")]),c(),t("span",{class:"token special-attr"},[t("span",{class:"token attr-name"},"style"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),t("span",{class:"token value css language-css"},[t("span",{class:"token property"},"margin-left"),t("span",{class:"token punctuation"},":"),c(" 20px")]),t("span",{class:"token punctuation"},'"')])]),c(),t("span",{class:"token attr-name"},"type"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),c("button"),t("span",{class:"token punctuation"},'"')]),c(),t("span",{class:"token attr-name"},"@click"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),c("reactiveState.count++"),t("span",{class:"token punctuation"},'"')]),t("span",{class:"token punctuation"},">")]),c("\n    reactiveState.count is: {{ reactiveState.count }}\n  "),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),c("button")]),t("span",{class:"token punctuation"},">")]),c("\n"),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),c("template")]),t("span",{class:"token punctuation"},">")]),c("\n\n"),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),c("script")]),t("span",{class:"token punctuation"},">")]),t("span",{class:"token script"},[t("span",{class:"token language-javascript"},[c("\n"),t("span",{class:"token keyword"},"import"),c(),t("span",{class:"token punctuation"},"{"),c("defineComponent"),t("span",{class:"token punctuation"},","),c(" ref"),t("span",{class:"token punctuation"},","),c(" reactive"),t("span",{class:"token punctuation"},","),c(" watchEffect"),t("span",{class:"token punctuation"},"}"),c(),t("span",{class:"token keyword"},"from"),c(),t("span",{class:"token string"},"'vue'"),c("\n"),t("span",{class:"token keyword"},"export"),c(),t("span",{class:"token keyword"},"default"),c(),t("span",{class:"token function"},"defineComponent"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},"{"),c("\n  "),t("span",{class:"token function"},"setup"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},")"),c(),t("span",{class:"token punctuation"},"{"),c("\n    "),t("span",{class:"token keyword"},"const"),c(" refCount "),t("span",{class:"token operator"},"="),c(),t("span",{class:"token function"},"ref"),t("span",{class:"token punctuation"},"("),t("span",{class:"token number"},"0"),t("span",{class:"token punctuation"},")"),c("\n    "),t("span",{class:"token keyword"},"const"),c(" reactiveState "),t("span",{class:"token operator"},"="),c(),t("span",{class:"token function"},"reactive"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},"{"),c("count"),t("span",{class:"token operator"},":"),c(),t("span",{class:"token number"},"0"),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),c("\n    "),t("span",{class:"token function"},"watchEffect"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},")"),c(),t("span",{class:"token operator"},"=>"),c(),t("span",{class:"token punctuation"},"{"),c("\n      console"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"log"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'refCount'"),t("span",{class:"token punctuation"},","),c(" refCount"),t("span",{class:"token punctuation"},"."),c("value"),t("span",{class:"token punctuation"},")"),c("\n      console"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"log"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'reactiveState'"),t("span",{class:"token punctuation"},","),c(" reactiveState"),t("span",{class:"token punctuation"},"."),c("count"),t("span",{class:"token punctuation"},")"),c("\n    "),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),c("\n    "),t("span",{class:"token keyword"},"return"),c(),t("span",{class:"token punctuation"},"{"),c("\n      refCount"),t("span",{class:"token punctuation"},","),c("\n      reactiveState\n    "),t("span",{class:"token punctuation"},"}"),c("\n  "),t("span",{class:"token punctuation"},"}"),c("\n"),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),c("\n")])]),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),c("script")]),t("span",{class:"token punctuation"},">")]),c("\n")])]),t("div",{class:"line-numbers"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br"),t("span",{class:"line-number"},"3"),t("br"),t("span",{class:"line-number"},"4"),t("br"),t("span",{class:"line-number"},"5"),t("br"),t("span",{class:"line-number"},"6"),t("br"),t("span",{class:"line-number"},"7"),t("br"),t("span",{class:"line-number"},"8"),t("br"),t("span",{class:"line-number"},"9"),t("br"),t("span",{class:"line-number"},"10"),t("br"),t("span",{class:"line-number"},"11"),t("br"),t("span",{class:"line-number"},"12"),t("br"),t("span",{class:"line-number"},"13"),t("br"),t("span",{class:"line-number"},"14"),t("br"),t("span",{class:"line-number"},"15"),t("br"),t("span",{class:"line-number"},"16"),t("br"),t("span",{class:"line-number"},"17"),t("br"),t("span",{class:"line-number"},"18"),t("br"),t("span",{class:"line-number"},"19"),t("br"),t("span",{class:"line-number"},"20"),t("br"),t("span",{class:"line-number"},"21"),t("br"),t("span",{class:"line-number"},"22"),t("br"),t("span",{class:"line-number"},"23"),t("br"),t("span",{class:"line-number"},"24"),t("br"),t("span",{class:"line-number"},"25"),t("br"),t("span",{class:"line-number"},"26"),t("br")])],-1),cn=t("h2",{id:"简单实践",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#简单实践","aria-hidden":"true"},"#"),c(" 简单实践")],-1),on=t("p",null,"那么简单学习了Composition API以后那么我们来看下如何用Vue3.x的Composition API来完成前面Vue2.x的demo",-1),pn=t("div",{class:"language-vue ext-vue line-numbers-mode"},[t("pre",{class:"language-vue"},[t("code",null,[t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),c("template")]),t("span",{class:"token punctuation"},">")]),c("\n  "),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),c("p")]),t("span",{class:"token punctuation"},">")]),c("count:{{ count }}"),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),c("p")]),t("span",{class:"token punctuation"},">")]),c("\n  "),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),c("p")]),t("span",{class:"token punctuation"},">")]),c("倍数：{{ multiple }}"),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),c("p")]),t("span",{class:"token punctuation"},">")]),c("\n  "),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),c("div")]),t("span",{class:"token punctuation"},">")]),c("\n    "),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),c("button")]),c(),t("span",{class:"token special-attr"},[t("span",{class:"token attr-name"},"style"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),t("span",{class:"token value css language-css"},[t("span",{class:"token property"},"margin-right"),t("span",{class:"token punctuation"},":"),c(" 10px")]),t("span",{class:"token punctuation"},'"')])]),c(),t("span",{class:"token attr-name"},"@click"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),c("increase"),t("span",{class:"token punctuation"},'"')]),t("span",{class:"token punctuation"},">")]),c("加1"),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),c("button")]),t("span",{class:"token punctuation"},">")]),c("\n    "),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),c("button")]),c(),t("span",{class:"token attr-name"},"@click"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),c("decrease"),t("span",{class:"token punctuation"},'"')]),t("span",{class:"token punctuation"},">")]),c("减一"),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),c("button")]),t("span",{class:"token punctuation"},">")]),c("\n  "),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),c("div")]),t("span",{class:"token punctuation"},">")]),c("\n"),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),c("template")]),t("span",{class:"token punctuation"},">")]),c("\n\n"),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),c("script")]),t("span",{class:"token punctuation"},">")]),t("span",{class:"token script"},[t("span",{class:"token language-javascript"},[c("\n"),t("span",{class:"token keyword"},"import"),c(),t("span",{class:"token punctuation"},"{"),c("computed"),t("span",{class:"token punctuation"},","),c(" defineComponent"),t("span",{class:"token punctuation"},","),c(" ref"),t("span",{class:"token punctuation"},"}"),c(),t("span",{class:"token keyword"},"from"),c(),t("span",{class:"token string"},"'vue'"),c("\n"),t("span",{class:"token keyword"},"export"),c(),t("span",{class:"token keyword"},"default"),c(),t("span",{class:"token function"},"defineComponent"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},"{"),c("\n  "),t("span",{class:"token function"},"setup"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},")"),c(),t("span",{class:"token punctuation"},"{"),c("\n    "),t("span",{class:"token keyword"},"const"),c(" count "),t("span",{class:"token operator"},"="),c(),t("span",{class:"token function"},"ref"),t("span",{class:"token punctuation"},"("),t("span",{class:"token number"},"0"),t("span",{class:"token punctuation"},")"),c("\n    "),t("span",{class:"token keyword"},"const"),c(),t("span",{class:"token function-variable function"},"increase"),c(),t("span",{class:"token operator"},"="),c(),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},")"),c(),t("span",{class:"token operator"},"=>"),c(" count"),t("span",{class:"token punctuation"},"."),c("value "),t("span",{class:"token operator"},"++"),c("\n    "),t("span",{class:"token keyword"},"const"),c(),t("span",{class:"token function-variable function"},"decrease"),c(),t("span",{class:"token operator"},"="),c(),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},")"),c(),t("span",{class:"token operator"},"=>"),c(" count"),t("span",{class:"token punctuation"},"."),c("value "),t("span",{class:"token operator"},"--"),c("\n    "),t("span",{class:"token keyword"},"return"),c(),t("span",{class:"token punctuation"},"{"),c("\n      count"),t("span",{class:"token punctuation"},","),c("\n      multiple"),t("span",{class:"token operator"},":"),c(),t("span",{class:"token function"},"computed"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},")"),c(),t("span",{class:"token operator"},"=>"),c(" count"),t("span",{class:"token punctuation"},"."),c("value "),t("span",{class:"token operator"},"*"),c(),t("span",{class:"token number"},"2"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},","),c("\n      increase"),t("span",{class:"token punctuation"},","),c("\n      decrease\n    "),t("span",{class:"token punctuation"},"}"),c("\n  "),t("span",{class:"token punctuation"},"}"),c("\n"),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),c("\n")])]),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),c("script")]),t("span",{class:"token punctuation"},">")]),c("\n")])]),t("div",{class:"line-numbers"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br"),t("span",{class:"line-number"},"3"),t("br"),t("span",{class:"line-number"},"4"),t("br"),t("span",{class:"line-number"},"5"),t("br"),t("span",{class:"line-number"},"6"),t("br"),t("span",{class:"line-number"},"7"),t("br"),t("span",{class:"line-number"},"8"),t("br"),t("span",{class:"line-number"},"9"),t("br"),t("span",{class:"line-number"},"10"),t("br"),t("span",{class:"line-number"},"11"),t("br"),t("span",{class:"line-number"},"12"),t("br"),t("span",{class:"line-number"},"13"),t("br"),t("span",{class:"line-number"},"14"),t("br"),t("span",{class:"line-number"},"15"),t("br"),t("span",{class:"line-number"},"16"),t("br"),t("span",{class:"line-number"},"17"),t("br"),t("span",{class:"line-number"},"18"),t("br"),t("span",{class:"line-number"},"19"),t("br"),t("span",{class:"line-number"},"20"),t("br"),t("span",{class:"line-number"},"21"),t("br"),t("span",{class:"line-number"},"22"),t("br"),t("span",{class:"line-number"},"23"),t("br"),t("span",{class:"line-number"},"24"),t("br"),t("span",{class:"line-number"},"25"),t("br")])],-1);o.render=function(c,o){const ln=n("reactive-ref"),un=n("no-refs-demo"),kn=n("to-refs-demo"),rn=n("watch-ref-reactive"),bn=n("watch-multiple"),mn=n("stop-watch"),gn=n("watch-effect-demo"),fn=n("vue3demo");return s(),a(e,null,[p,l,u,i,k,r,b,m,g,f,d,v,w,h,R,y,C,t(ln),x,V,q,S,t(un),I,j,t(kn),A,E,P,U,W,F,O,J,T,z,B,D,t(rn),G,H,t(bn),K,L,M,N,Q,X,Y,t(mn),Z,$,_,nn,sn,an,tn,t(gn),en,cn,on,t(fn),pn],64)};export default o;
